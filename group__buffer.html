<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>embedded-software: FIFO Byte Buffer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">embedded-software
   </div>
   <div id="projectbrief">reusable software modules for embedded systems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__buffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FIFO Byte Buffer</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for FIFO Byte Buffer:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__buffer.png" border="0" alt="" usemap="#group____buffer"/>
<map name="group____buffer" id="group____buffer">
<area shape="rect" id="node1" href="group__buffer__printf.html" title="printf Functionality\l for Buffer Module" alt="" coords="177,5,306,46"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__buffer__printf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer__printf.html">printf Functionality for Buffer Module</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbuffer__t.html">buffer_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1ac2f7424d6f9108874b120406dcb46e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#ga1ac2f7424d6f9108874b120406dcb46e">BUFFER_ALLOCATE</a>(buffer_name,max_size)</td></tr>
<tr class="separator:ga1ac2f7424d6f9108874b120406dcb46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae76bda3454c61b4b32de80c0f715f0b6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#gae76bda3454c61b4b32de80c0f715f0b6">BUFFER_INIT</a>(buffer_name, max_size)&#160;&#160;&#160;<a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init</a>(&amp;buffer_name, &amp;<a class="el" href="group__macros.html#ga19a41bff15269d4f73bc19ddd60f9b49">CAT2</a>(buffer_name, _array)[0], max_size)</td></tr>
<tr class="separator:gae76bda3454c61b4b32de80c0f715f0b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ae40581789d352e518a991921d26596"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#ga7ae40581789d352e518a991921d26596">BUFFER_ENQUEUE_FAILED</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga7ae40581789d352e518a991921d26596"><td class="mdescLeft">&#160;</td><td class="mdescRight">enqueue failed (return value of <a class="el" href="group__buffer.html#gae1d8418dfea8c2aa4152f3cd44c33cd6">Buffer_EnqueueData()</a> )  <a href="#ga7ae40581789d352e518a991921d26596">More...</a><br/></td></tr>
<tr class="separator:ga7ae40581789d352e518a991921d26596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb9e2c64555c5e789bb9cade06c5a566"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#gaeb9e2c64555c5e789bb9cade06c5a566">BUFFER_ENQUEUE_SUCCEEDED</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gaeb9e2c64555c5e789bb9cade06c5a566"><td class="mdescLeft">&#160;</td><td class="mdescRight">enqueue succeeded (return value of <a class="el" href="group__buffer.html#gae1d8418dfea8c2aa4152f3cd44c33cd6">Buffer_EnqueueData()</a> )  <a href="#gaeb9e2c64555c5e789bb9cade06c5a566">More...</a><br/></td></tr>
<tr class="separator:gaeb9e2c64555c5e789bb9cade06c5a566"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac399f2bb7bfaa376ad14813e4b2ae288"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#gac399f2bb7bfaa376ad14813e4b2ae288">Buffer_Enqueue</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, uint8_t data)</td></tr>
<tr class="separator:gac399f2bb7bfaa376ad14813e4b2ae288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad122bcd1cf8fc3bd5e803ce1372d6227"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#gad122bcd1cf8fc3bd5e803ce1372d6227">Buffer_Dequeue</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr class="separator:gad122bcd1cf8fc3bd5e803ce1372d6227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga773175cd0794ef6b6bb96d2fe161c846"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#ga773175cd0794ef6b6bb96d2fe161c846">Buffer_GetSize</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr class="separator:ga773175cd0794ef6b6bb96d2fe161c846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6077dfcd01f43b27628836d814c53e7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, uint8_t *data_array, uint16_t max_size)</td></tr>
<tr class="separator:ga6077dfcd01f43b27628836d814c53e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdb68b530470d939294d0dc2581019a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#gacdb68b530470d939294d0dc2581019a9">Buffer_SetCallback</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, void(*Callback)(<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer))</td></tr>
<tr class="separator:gacdb68b530470d939294d0dc2581019a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1aa83e0fb32a02ee4f0d35781d003bfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#ga1aa83e0fb32a02ee4f0d35781d003bfb">Buffer_ClearCallback</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr class="separator:ga1aa83e0fb32a02ee4f0d35781d003bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1d8418dfea8c2aa4152f3cd44c33cd6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__buffer.html#gae1d8418dfea8c2aa4152f3cd44c33cd6">Buffer_EnqueueData</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, uint8_t *data, uint16_t length)</td></tr>
<tr class="separator:gae1d8418dfea8c2aa4152f3cd44c33cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module implements a software FIFO buffer of bytes. It provides methods <a class="el" href="group__buffer.html#gac399f2bb7bfaa376ad14813e4b2ae288">Buffer_Enqueue()</a> and <a class="el" href="group__buffer.html#gad122bcd1cf8fc3bd5e803ce1372d6227">Buffer_Dequeue()</a> to add and remove bytes from the buffer.</p>
<p>The user is responsible for allocating the structure used to manage the buffer, <a class="el" href="structbuffer__t.html">buffer_t</a>, as well as the actual byte array which will be used to implement the buffer. These are then passed to <a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init()</a> which must be called prior to any attempts to Enqueue or Dequeue.</p>
<p>There is also a <a class="el" href="group__buffer.html#gae1d8418dfea8c2aa4152f3cd44c33cd6">Buffer_EnqueueData()</a> method which allows multiple bytes to be added to the buffer at once.</p>
<p>An alternative to this FIFO byte buffer is the Item Buffer module which works the same except with items of any size instead of being limited to bytes only.</p>
<dl class="section author"><dt>Author</dt><dd>Michael Muhlbaier </dd>
<dd>
Anthony Merlino</dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 Initial implementation </dd>
<dd>
1.0 Made Push and Pop interrupt safe </dd>
<dd>
1.1 Added PushData </dd>
<dd>
1.2 Added and corrected documentation, removed include "project_settings.h" </dd>
<dd>
1.3 Changed char to uint8_t for the data bytes and updated method names to Buffer_[] and Push/Pop to Enqueue/Dequeue </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga1ac2f7424d6f9108874b120406dcb46e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_ALLOCATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buffer_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">max_size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordtype">char</span> <a class="code" href="group__macros.html#ga19a41bff15269d4f73bc19ddd60f9b49">CAT2</a>(buffer_name, _array)[max_size];\</div>
<div class="line">    buffer_t buffer_name</div>
<div class="ttc" id="group__macros_html_ga19a41bff15269d4f73bc19ddd60f9b49"><div class="ttname"><a href="group__macros.html#ga19a41bff15269d4f73bc19ddd60f9b49">CAT2</a></div><div class="ttdeci">#define CAT2(s1, s2)</div><div class="ttdef"><b>Definition:</b> macros.h:40</div></div>
</div><!-- fragment --><p>Helpful macros for allocating and initializing buffer module</p>
<p>BUFFER_ALLOCATE uses a name to declare the array and buffer structure</p>
<p>BUFFER_INIT uses the name given in BUFFER_ALLOCATE to initialize the buffer structure </p>

</div>
</div>
<a class="anchor" id="ga7ae40581789d352e518a991921d26596"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_ENQUEUE_FAILED&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enqueue failed (return value of <a class="el" href="group__buffer.html#gae1d8418dfea8c2aa4152f3cd44c33cd6">Buffer_EnqueueData()</a> ) </p>

</div>
</div>
<a class="anchor" id="gaeb9e2c64555c5e789bb9cade06c5a566"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_ENQUEUE_SUCCEEDED&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enqueue succeeded (return value of <a class="el" href="group__buffer.html#gae1d8418dfea8c2aa4152f3cd44c33cd6">Buffer_EnqueueData()</a> ) </p>

</div>
</div>
<a class="anchor" id="gae76bda3454c61b4b32de80c0f715f0b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buffer_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">max_size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init</a>(&amp;buffer_name, &amp;<a class="el" href="group__macros.html#ga19a41bff15269d4f73bc19ddd60f9b49">CAT2</a>(buffer_name, _array)[0], max_size)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1aa83e0fb32a02ee4f0d35781d003bfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Buffer_ClearCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear/remove the callback function for 'buffer'</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the <a class="el" href="structbuffer__t.html">buffer_t</a> data structure whose callback function is to be cleared </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_ga1aa83e0fb32a02ee4f0d35781d003bfb_icgraph.png" border="0" usemap="#group__buffer_ga1aa83e0fb32a02ee4f0d35781d003bfb_icgraph" alt=""/></div>
<map name="group__buffer_ga1aa83e0fb32a02ee4f0d35781d003bfb_icgraph" id="group__buffer_ga1aa83e0fb32a02ee4f0d35781d003bfb_icgraph">
<area shape="rect" id="node2" href="buffer__tests_8c.html#a9340673d1901637b95bb12340b3b558c" title="buffer_init_enqueue\l_callback_clear_callback" alt="" coords="201,5,367,46"/><area shape="rect" id="node3" href="buffer__tests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="416,12,467,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad122bcd1cf8fc3bd5e803ce1372d6227"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Buffer_Dequeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer_Dequeue will return one item from the front of the FIFO buffer</p>
<p>Buffer_Dequeue will return the item at the front of the FIFO buffer then increment (and wrap as needed) the front. If the buffer is empty it will return 0.</p>
<p><a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init()</a> must be used to initialize the buffer prior to calling Buffer_Dequeue and passing it a pointer to the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the <a class="el" href="structbuffer__t.html">buffer_t</a> data structure holding the buffer info </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data of type char from the front of the buffer</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>is only interrupt safe if <a class="el" href="group__hal__general.html#gab712356331a62b04aebcb373865e68c4" title="Configure and enable global interrupts. ">EnableInterrupts()</a> and <a class="el" href="group__hal__general.html#gac866dbaf7b167e5c46bb33de42eee84d" title="Disable global interrupts. ">DisableInterrupts()</a> are defined by hal_general.h </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_cgraph.png" border="0" usemap="#group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_cgraph" alt=""/></div>
<map name="group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_cgraph" id="group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_cgraph">
<area shape="rect" id="node2" href="group__hal__general.html#ga5a740c360e0109e7336adef05ef253a5" title="Backup the interrupt status (i.e. IPL) and block interrupts. " alt="" coords="177,5,287,32"/><area shape="rect" id="node3" href="group__hal__general.html#ga54ccac0b414f39b6d7d031e4be945a99" title="RestoreInterrupts after blocking interrupts (BlockInterrupts()) " alt="" coords="171,56,293,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_icgraph.png" border="0" usemap="#group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_icgraph" alt=""/></div>
<map name="group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_icgraph" id="group__buffer_gad122bcd1cf8fc3bd5e803ce1372d6227_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a008186aec9ff8f73dd86d85470e98633" title="Main UART routine which calls subscribers and handles errors. " alt="" coords="209,56,300,83"/><area shape="rect" id="node7" href="uart_8c.html#a40486aeabcf8a17f819de9d0e619f887" title="UART transmit interrupt handler. " alt="" coords="188,360,321,387"/><area shape="rect" id="node23" href="buffer__tests_8c.html#a3f8c3879fbe47f4767136a9279a2e6ff" title="buffer_init_enqueue\l_dequeue" alt="" coords="187,445,322,486"/><area shape="rect" id="node25" href="buffer__tests_8c.html#a087e410072a0dff0ed441abef5991921" title="buffer_init_enqueue_data" alt="" coords="171,579,338,605"/><area shape="rect" id="node3" href="_s_t_m32_l475_2main_8c.html#a0ccade7b71b774de5752203d3ea8021b" title="while" alt="" coords="421,5,473,32"/><area shape="rect" id="node4" href="uart_8c.html#ace506ef2867a6ee30406b132eb624ed8" title="UART_Init" alt="" coords="922,56,1006,83"/><area shape="rect" id="node5" href="_m_s_p430_f5529_2_game_example_2main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1133,56,1184,83"/><area shape="rect" id="node6" href="laser__comms_8h.html#aedffc10b3a2c95e1f1e3af96a9db2941" title="LaserComms_Init" alt="" coords="1096,107,1221,133"/><area shape="rect" id="node8" href="_c_c3200_2hal__uart_8c.html#ad2d7d7092a37b8739d18f58fbeb79af8" title="hal_UART_ISR" alt="" coords="390,107,503,133"/><area shape="rect" id="node13" href="_p_i_c32_m_m_2_p_i_c32_m_m0128_g_p_m028_2hal__uart_8c.html#a084a3a7f8cb9408aeee50ebdf639515a" title="__attribute__" alt="" coords="398,157,495,184"/><area shape="rect" id="node14" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a3ba962057250edfdfd522e9da998f670" title="hal_UART0_ISR" alt="" coords="387,208,507,235"/><area shape="rect" id="node15" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#ae0892bb401d55ba6cbf19347f010a6a8" title="hal_UART1_ISR" alt="" coords="387,259,507,285"/><area shape="rect" id="node16" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#af476d1cfc79eb46672682ec6b8669c9b" title="hal_UART2_ISR" alt="" coords="387,309,507,336"/><area shape="rect" id="node18" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#aba17f3bb2b52c5daf5aee66ff9b2e37b" title="hal_UART3_ISR" alt="" coords="387,360,507,387"/><area shape="rect" id="node19" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a2cd56e058a7a614555050551741083f3" title="hal_UART4_ISR" alt="" coords="387,411,507,437"/><area shape="rect" id="node20" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a0c2e3ef429d80e48e91566f16a6074b4" title="hal_UART5_ISR" alt="" coords="387,461,507,488"/><area shape="rect" id="node21" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a4ff1fb1743c66839e2d1205b05f246b8" title="hal_UART6_ISR" alt="" coords="387,512,507,539"/><area shape="rect" id="node22" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a3319579fda4bef5475fd1bd757a9d10a" title="hal_UART7_ISR" alt="" coords="387,563,507,589"/><area shape="rect" id="node9" href="_c_c3200_2hal__uart_8c.html#a3ba962057250edfdfd522e9da998f670" title="hal_UART0_ISR" alt="" coords="555,107,675,133"/><area shape="rect" id="node12" href="_c_c3200_2hal__uart_8c.html#ae0892bb401d55ba6cbf19347f010a6a8" title="hal_UART1_ISR" alt="" coords="555,157,675,184"/><area shape="rect" id="node10" href="uart_8h.html#a367398f574ef7a3f57e454f6a839a98a" title="initialize UART channel at specified baud rate " alt="" coords="723,107,831,133"/><area shape="rect" id="node11" href="uart_8c.html#a9b7cb4f8330a77c863cb92f24f3c411d" title="Change baud rate. " alt="" coords="881,107,1047,133"/><area shape="rect" id="node17" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a367398f574ef7a3f57e454f6a839a98a" title="initialize UART channel at specified baud rate " alt="" coords="561,436,669,463"/><area shape="rect" id="node24" href="buffer__tests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="421,613,472,640"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac399f2bb7bfaa376ad14813e4b2ae288"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Buffer_Enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer_Enqueue will add one item, data, to the FIFO buffer</p>
<p>Buffer_Enqueue will add one item to the rear of the data buffer then increment (and wrap is needed) the rear. If the buffer is full it will overwrite the data at the front of the buffer and increment the front.</p>
<p><a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init()</a> must be used to initialize the buffer prior to calling Buffer_Enqueue and passing it a pointer to the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the <a class="el" href="structbuffer__t.html">buffer_t</a> data structure holding the buffer info </td></tr>
    <tr><td class="paramname">data</td><td>char data to be added to the rear of the FIFO buffer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Buffer_Enqueue is only interrupt safe if <a class="el" href="group__hal__general.html#gab712356331a62b04aebcb373865e68c4" title="Configure and enable global interrupts. ">EnableInterrupts()</a> and <a class="el" href="group__hal__general.html#gac866dbaf7b167e5c46bb33de42eee84d" title="Disable global interrupts. ">DisableInterrupts()</a> are defined by hal_general.h </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_cgraph.png" border="0" usemap="#group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_cgraph" alt=""/></div>
<map name="group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_cgraph" id="group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_cgraph">
<area shape="rect" id="node2" href="group__hal__general.html#ga5a740c360e0109e7336adef05ef253a5" title="Backup the interrupt status (i.e. IPL) and block interrupts. " alt="" coords="174,5,285,32"/><area shape="rect" id="node3" href="group__hal__general.html#ga54ccac0b414f39b6d7d031e4be945a99" title="RestoreInterrupts after blocking interrupts (BlockInterrupts()) " alt="" coords="168,56,291,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_icgraph.png" border="0" usemap="#group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_icgraph" alt=""/></div>
<map name="group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_icgraph" id="group__buffer_gac399f2bb7bfaa376ad14813e4b2ae288_icgraph">
<area shape="rect" id="node2" href="group__buffer__printf.html#ga16338dfb2900461bb027bf40815b2897" title="vprintf implementation to char buffer " alt="" coords="735,183,835,210"/><area shape="rect" id="node4" href="group__buffer__printf.html#gae81a12b586e1f8df3736ba326246278d" title="Push unsigned integer to char buffer. " alt="" coords="203,361,301,387"/><area shape="rect" id="node5" href="group__buffer__printf.html#gab94b7f86abcc80b6b14a35c96bc012c5" title="Push integer to char buffer. " alt="" coords="403,310,495,337"/><area shape="rect" id="node6" href="group__buffer__printf.html#ga1f1a2db71df2dff8d5619fe152eff280" title="Cheap implementation of float to char buffer. " alt="" coords="576,361,669,387"/><area shape="rect" id="node7" href="group__buffer__printf.html#gaf65e2c9c9d00ddb7e5ae91248a86c4cb" title="Push 16 bit binary number to char buffer. " alt="" coords="195,462,309,489"/><area shape="rect" id="node8" href="group__buffer__printf.html#ga5af51f7d541876c97393761c9cdb62f4" title="Push long to char buffer. " alt="" coords="403,57,495,83"/><area shape="rect" id="node9" href="group__buffer__printf.html#ga894d0b01c2412babde947608818f367e" title="Push unsigned long integer to char buffer. " alt="" coords="203,6,301,33"/><area shape="rect" id="node10" href="group__buffer__printf.html#ga330d945e8e99265f5cd1e18ad6a13114" title="Push char array (string) to char buffer. " alt="" coords="582,107,663,134"/><area shape="rect" id="node11" href="group__buffer__printf.html#ga07605350ce76ff0b2b46740c201d8f68" title="Push 32 bit value to char buffer in hex format. " alt="" coords="573,158,672,185"/><area shape="rect" id="node12" href="uart_8c.html#a2763d69dd456fefdfb02908994dc31ef" title="Write a single byte to UART. " alt="" coords="190,513,314,539"/><area shape="rect" id="node15" href="uart_8c.html#a522aaeb0db3ac744ef8684ee67b66c4c" title="UART receive interrupt handler. " alt="" coords="185,766,319,793"/><area shape="rect" id="node34" href="buffer__tests_8c.html#a6cdcc983d3acc656efaa1a5960d88108" title="buffer_init_enqueue" alt="" coords="185,977,319,1003"/><area shape="rect" id="node36" href="buffer__tests_8c.html#a3f8c3879fbe47f4767136a9279a2e6ff" title="buffer_init_enqueue\l_dequeue" alt="" coords="185,1059,319,1100"/><area shape="rect" id="node37" href="buffer__tests_8c.html#ab14d3d69ec9c086d1fed7f8203dd6374" title="buffer_init_enqueue\l_callback" alt="" coords="185,821,319,863"/><area shape="rect" id="node38" href="buffer__tests_8c.html#a9340673d1901637b95bb12340b3b558c" title="buffer_init_enqueue\l_callback_clear_callback" alt="" coords="169,895,335,936"/><area shape="rect" id="node3" href="group__buffer__printf.html#gafabeb712c1aa0b8211cb4a77d38a0e39" title="printf implementation to char buffer " alt="" coords="925,183,1019,210"/><area shape="rect" id="node13" href="laser__comms_8h.html#a244ea082f81cd179a030755be49694e2" title="LaserComms_Fire" alt="" coords="385,462,514,489"/><area shape="rect" id="node14" href="group__game.html#ga9ceb81df99ed4f60be3b71c0c40021fb" title="Game_FillRect" alt="" coords="395,513,504,539"/><area shape="rect" id="node16" href="_c_c3200_2hal__uart_8c.html#ad2d7d7092a37b8739d18f58fbeb79af8" title="hal_UART_ISR" alt="" coords="393,563,506,590"/><area shape="rect" id="node24" href="ds_p_i_c33_2ds_p_i_c33_e_v256_g_m102_2hal__uart_8c.html#a348b663f86a656f5ea991d496ff9b896" title="__attribute__" alt="" coords="401,918,498,945"/><area shape="rect" id="node25" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a3ba962057250edfdfd522e9da998f670" title="hal_UART0_ISR" alt="" coords="389,969,509,995"/><area shape="rect" id="node26" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#ae0892bb401d55ba6cbf19347f010a6a8" title="hal_UART1_ISR" alt="" coords="389,1019,509,1046"/><area shape="rect" id="node27" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#af476d1cfc79eb46672682ec6b8669c9b" title="hal_UART2_ISR" alt="" coords="389,715,509,742"/><area shape="rect" id="node29" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#aba17f3bb2b52c5daf5aee66ff9b2e37b" title="hal_UART3_ISR" alt="" coords="389,766,509,793"/><area shape="rect" id="node30" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a2cd56e058a7a614555050551741083f3" title="hal_UART4_ISR" alt="" coords="389,817,509,843"/><area shape="rect" id="node31" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a0c2e3ef429d80e48e91566f16a6074b4" title="hal_UART5_ISR" alt="" coords="389,867,509,894"/><area shape="rect" id="node32" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a4ff1fb1743c66839e2d1205b05f246b8" title="hal_UART6_ISR" alt="" coords="389,614,509,641"/><area shape="rect" id="node33" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a3319579fda4bef5475fd1bd757a9d10a" title="hal_UART7_ISR" alt="" coords="389,665,509,691"/><area shape="rect" id="node17" href="_c_c3200_2hal__uart_8c.html#a3ba962057250edfdfd522e9da998f670" title="hal_UART0_ISR" alt="" coords="563,589,683,615"/><area shape="rect" id="node23" href="_c_c3200_2hal__uart_8c.html#ae0892bb401d55ba6cbf19347f010a6a8" title="hal_UART1_ISR" alt="" coords="563,538,683,565"/><area shape="rect" id="node18" href="uart_8h.html#a367398f574ef7a3f57e454f6a839a98a" title="initialize UART channel at specified baud rate " alt="" coords="731,563,839,590"/><area shape="rect" id="node19" href="uart_8c.html#ace506ef2867a6ee30406b132eb624ed8" title="UART_Init" alt="" coords="930,589,1014,615"/><area shape="rect" id="node22" href="uart_8c.html#a9b7cb4f8330a77c863cb92f24f3c411d" title="Change baud rate. " alt="" coords="889,538,1055,565"/><area shape="rect" id="node20" href="_m_s_p430_f5529_2_game_example_2main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1141,589,1192,615"/><area shape="rect" id="node21" href="laser__comms_8h.html#aedffc10b3a2c95e1f1e3af96a9db2941" title="LaserComms_Init" alt="" coords="1104,538,1229,565"/><area shape="rect" id="node28" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a367398f574ef7a3f57e454f6a839a98a" title="initialize UART channel at specified baud rate " alt="" coords="569,741,677,767"/><area shape="rect" id="node35" href="buffer__tests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="424,1070,475,1097"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae1d8418dfea8c2aa4152f3cd44c33cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Buffer_EnqueueData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Queue a array of data to the buffer</p>
<dl class="section warning"><dt>Warning</dt><dd>Buffer_EnqueueData will disable interrupts while writing to the buffer. If length is long this could interfere with time sensitive ISRs. Consider using <a class="el" href="group__buffer.html#gac399f2bb7bfaa376ad14813e4b2ae288">Buffer_Enqueue()</a> if this is an issue.</dd></dl>
<p>Buffer_EnqueueData will add an array of items to the rear of the data buffer and increment (and wrap if needed) the rear. If the buffer does not have room none of the data will be queued to the buffer.</p>
<p><a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init()</a> must be used to initialize the buffer prior to calling Buffer_EnqueueData and passing it a pointer to the buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the <a class="el" href="structbuffer__t.html">buffer_t</a> data structure holding the buffer info </td></tr>
    <tr><td class="paramname">data</td><td>byte pointer to data array to be added to the rear of the FIFO buffer </td></tr>
    <tr><td class="paramname">length</td><td>the number of items in the data array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if succeeded, 1 if not enough room in buffer </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_cgraph.png" border="0" usemap="#group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_cgraph" alt=""/></div>
<map name="group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_cgraph" id="group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_cgraph">
<area shape="rect" id="node2" href="group__hal__general.html#ga5a740c360e0109e7336adef05ef253a5" title="Backup the interrupt status (i.e. IPL) and block interrupts. " alt="" coords="203,5,314,32"/><area shape="rect" id="node3" href="group__hal__general.html#ga54ccac0b414f39b6d7d031e4be945a99" title="RestoreInterrupts after blocking interrupts (BlockInterrupts()) " alt="" coords="197,56,320,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_icgraph.png" border="0" usemap="#group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_icgraph" alt=""/></div>
<map name="group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_icgraph" id="group__buffer_gae1d8418dfea8c2aa4152f3cd44c33cd6_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a33a9b6cfd274cdbbd7887a8924d48fcb" title="Write chunk of data to UART tx buffer. " alt="" coords="233,120,330,146"/><area shape="rect" id="node11" href="buffer__tests_8c.html#a087e410072a0dff0ed441abef5991921" title="buffer_init_enqueue_data" alt="" coords="198,196,365,222"/><area shape="rect" id="node3" href="nrf__example_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="771,44,821,70"/><area shape="rect" id="node4" href="thief__example_8c.html#a95b147cf5cd9227524af96bf9cdea713" title="RF1_MaxRetriesHandler" alt="" coords="425,44,591,70"/><area shape="rect" id="node6" href="thief__example_8c.html#a1a5dcf8ce3751fccd66d070f6a87ef20" title="RF2_MaxRetriesHandler" alt="" coords="425,94,591,121"/><area shape="rect" id="node8" href="thief__example_8c.html#a2e3afe0db98e4befe374adbf8973cc19" title="ThisNode_TestMsgHandler" alt="" coords="417,145,599,172"/><area shape="rect" id="node10" href="thief__example_8c.html#a14112698c5e132231205266db60171fb" title="ThisNode2_TestMsgHandler" alt="" coords="414,196,602,222"/><area shape="rect" id="node5" href="thief__example_8c.html#a9387a6aa9dce14b7a6982d5f99812a31" title="RF1_Init" alt="" coords="651,44,723,70"/><area shape="rect" id="node7" href="thief__example_8c.html#a663703a112758bd898ce9fefd797a49d" title="RF2_Init" alt="" coords="651,94,723,121"/><area shape="rect" id="node9" href="nrf__network__example_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="661,170,712,197"/><area shape="rect" id="node12" href="buffer__tests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="483,246,533,273"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga773175cd0794ef6b6bb96d2fe161c846"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t Buffer_GetSize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer_GetSize returns the number of items in the FIFO buffer</p>
<p><a class="el" href="group__buffer.html#ga6077dfcd01f43b27628836d814c53e7a">Buffer_Init()</a> should be used to initialize the buffer otherwise the return value will be meaningless</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the <a class="el" href="structbuffer__t.html">buffer_t</a> data structure holding the buffer info </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of items in the buffer </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_ga773175cd0794ef6b6bb96d2fe161c846_icgraph.png" border="0" usemap="#group__buffer_ga773175cd0794ef6b6bb96d2fe161c846_icgraph" alt=""/></div>
<map name="group__buffer_ga773175cd0794ef6b6bb96d2fe161c846_icgraph" id="group__buffer_ga773175cd0794ef6b6bb96d2fe161c846_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#a008186aec9ff8f73dd86d85470e98633" title="Main UART routine which calls subscribers and handles errors. " alt="" coords="204,56,295,83"/><area shape="rect" id="node7" href="uart_8c.html#abfcf7b1a99eb08daa5715769c224c7f5" title="Returns 0 or num bytes to indicate if the UART is transmitting. " alt="" coords="175,157,324,184"/><area shape="rect" id="node12" href="uart_8c.html#a40486aeabcf8a17f819de9d0e619f887" title="UART transmit interrupt handler. " alt="" coords="183,443,316,469"/><area shape="rect" id="node28" href="buffer__tests_8c.html#a099a3a2a63094a906bb670835124bbc1" title="buffer_init" alt="" coords="210,493,289,520"/><area shape="rect" id="node30" href="buffer__tests_8c.html#a6cdcc983d3acc656efaa1a5960d88108" title="buffer_init_enqueue" alt="" coords="182,544,317,571"/><area shape="rect" id="node31" href="buffer__tests_8c.html#a3f8c3879fbe47f4767136a9279a2e6ff" title="buffer_init_enqueue\l_dequeue" alt="" coords="182,595,317,637"/><area shape="rect" id="node32" href="buffer__tests_8c.html#ab14d3d69ec9c086d1fed7f8203dd6374" title="buffer_init_enqueue\l_callback" alt="" coords="182,661,317,702"/><area shape="rect" id="node33" href="buffer__tests_8c.html#a9340673d1901637b95bb12340b3b558c" title="buffer_init_enqueue\l_callback_clear_callback" alt="" coords="166,726,333,767"/><area shape="rect" id="node34" href="buffer__tests_8c.html#a087e410072a0dff0ed441abef5991921" title="buffer_init_enqueue_data" alt="" coords="166,792,333,819"/><area shape="rect" id="node3" href="_s_t_m32_l475_2main_8c.html#a0ccade7b71b774de5752203d3ea8021b" title="while" alt="" coords="455,5,507,32"/><area shape="rect" id="node4" href="uart_8c.html#ace506ef2867a6ee30406b132eb624ed8" title="UART_Init" alt="" coords="1031,107,1115,133"/><area shape="rect" id="node5" href="_m_s_p430_f5529_2_game_example_2main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="1243,107,1293,133"/><area shape="rect" id="node6" href="laser__comms_8h.html#aedffc10b3a2c95e1f1e3af96a9db2941" title="LaserComms_Init" alt="" coords="1205,157,1331,184"/><area shape="rect" id="node8" href="group__game.html#ga653ec340f21a75532be89415cf923c6f" title="Game_IsTransmitting" alt="" coords="408,107,555,133"/><area shape="rect" id="node11" href="render__engine_8c.html#ad24a4a8bf3b21b6b9e2c0b3b27dcf604" title="Display a frame. " alt="" coords="382,157,581,184"/><area shape="rect" id="node9" href="group__game.html#ga42906baf18e9fcf43d0a139c4832c39e" title="Game_DrawRect" alt="" coords="629,107,752,133"/><area shape="rect" id="node10" href="group__game__building.html#gadaba6a5cee410b18b7328c7fc3e22475" title="Function to draw buildings with doors. " alt="" coords="800,107,941,133"/><area shape="rect" id="node13" href="_c_c3200_2hal__uart_8c.html#ad2d7d7092a37b8739d18f58fbeb79af8" title="hal_UART_ISR" alt="" coords="425,208,538,235"/><area shape="rect" id="node18" href="_p_i_c32_m_m_2_p_i_c32_m_m0128_g_p_m028_2hal__uart_8c.html#a084a3a7f8cb9408aeee50ebdf639515a" title="__attribute__" alt="" coords="433,259,530,285"/><area shape="rect" id="node19" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a3ba962057250edfdfd522e9da998f670" title="hal_UART0_ISR" alt="" coords="421,309,541,336"/><area shape="rect" id="node20" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#ae0892bb401d55ba6cbf19347f010a6a8" title="hal_UART1_ISR" alt="" coords="421,360,541,387"/><area shape="rect" id="node21" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#af476d1cfc79eb46672682ec6b8669c9b" title="hal_UART2_ISR" alt="" coords="421,411,541,437"/><area shape="rect" id="node23" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#aba17f3bb2b52c5daf5aee66ff9b2e37b" title="hal_UART3_ISR" alt="" coords="421,461,541,488"/><area shape="rect" id="node24" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a2cd56e058a7a614555050551741083f3" title="hal_UART4_ISR" alt="" coords="421,512,541,539"/><area shape="rect" id="node25" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a0c2e3ef429d80e48e91566f16a6074b4" title="hal_UART5_ISR" alt="" coords="421,563,541,589"/><area shape="rect" id="node26" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a4ff1fb1743c66839e2d1205b05f246b8" title="hal_UART6_ISR" alt="" coords="421,613,541,640"/><area shape="rect" id="node27" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a3319579fda4bef5475fd1bd757a9d10a" title="hal_UART7_ISR" alt="" coords="421,664,541,691"/><area shape="rect" id="node14" href="_c_c3200_2hal__uart_8c.html#a3ba962057250edfdfd522e9da998f670" title="hal_UART0_ISR" alt="" coords="631,157,751,184"/><area shape="rect" id="node17" href="_c_c3200_2hal__uart_8c.html#ae0892bb401d55ba6cbf19347f010a6a8" title="hal_UART1_ISR" alt="" coords="631,208,751,235"/><area shape="rect" id="node15" href="uart_8h.html#a367398f574ef7a3f57e454f6a839a98a" title="initialize UART channel at specified baud rate " alt="" coords="817,157,925,184"/><area shape="rect" id="node16" href="uart_8c.html#a9b7cb4f8330a77c863cb92f24f3c411d" title="Change baud rate. " alt="" coords="990,157,1157,184"/><area shape="rect" id="node22" href="_t_i_v_a_c_2_t_m4_c123_2hal__uart_8c.html#a367398f574ef7a3f57e454f6a839a98a" title="initialize UART channel at specified baud rate " alt="" coords="637,537,745,564"/><area shape="rect" id="node29" href="buffer__tests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="456,715,507,741"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6077dfcd01f43b27628836d814c53e7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Buffer_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a FIFO buffer</p>
<p>Example code: </p>
<div class="fragment"><div class="line"><span class="preprocessor">#define TX_BUFFER_LENGTH 512</span></div>
<div class="line"><span class="preprocessor"></span><a class="code" href="structbuffer__t.html">buffer_t</a> tx_buffer; <span class="comment">// transmit buffer</span></div>
<div class="line">uint8_t tx_buffer_array[TX_BUFFER_LENGTH]</div>
<div class="line">...</div>
<div class="line">Buffer_Init(&amp;tx_buffer, &amp;tx_buffer_array[0], TX_BUFFER_LENGTH);</div>
<div class="line"><span class="comment">// or</span></div>
<div class="line"><a class="code" href="group__buffer.html#ga1ac2f7424d6f9108874b120406dcb46e">BUFFER_ALLOCATE</a>(tx_buffer, TX_BUFFER_LENGTH);</div>
<div class="line">...</div>
<div class="line">BUFFER_INIT(tx_buffer, TX_BUFFER_LENGTH);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the <a class="el" href="structbuffer__t.html">buffer_t</a> data structure to be initialized </td></tr>
    <tr><td class="paramname">data_array</td><td>Array of char data to implement the actual buffer </td></tr>
    <tr><td class="paramname">max_size</td><td>Maximum size of the buffer (should be the same length as the array) </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_ga6077dfcd01f43b27628836d814c53e7a_icgraph.png" border="0" usemap="#group__buffer_ga6077dfcd01f43b27628836d814c53e7a_icgraph" alt=""/></div>
<map name="group__buffer_ga6077dfcd01f43b27628836d814c53e7a_icgraph" id="group__buffer_ga6077dfcd01f43b27628836d814c53e7a_icgraph">
<area shape="rect" id="node2" href="uart_8c.html#ace506ef2867a6ee30406b132eb624ed8" title="UART_Init" alt="" coords="178,31,262,57"/><area shape="rect" id="node5" href="buffer__tests_8c.html#a099a3a2a63094a906bb670835124bbc1" title="buffer_init" alt="" coords="181,81,259,108"/><area shape="rect" id="node7" href="buffer__tests_8c.html#a6cdcc983d3acc656efaa1a5960d88108" title="buffer_init_enqueue" alt="" coords="153,132,287,159"/><area shape="rect" id="node8" href="buffer__tests_8c.html#a3f8c3879fbe47f4767136a9279a2e6ff" title="buffer_init_enqueue\l_dequeue" alt="" coords="153,183,287,225"/><area shape="rect" id="node9" href="buffer__tests_8c.html#ab14d3d69ec9c086d1fed7f8203dd6374" title="buffer_init_enqueue\l_callback" alt="" coords="153,249,287,290"/><area shape="rect" id="node10" href="buffer__tests_8c.html#a9340673d1901637b95bb12340b3b558c" title="buffer_init_enqueue\l_callback_clear_callback" alt="" coords="137,314,303,355"/><area shape="rect" id="node11" href="buffer__tests_8c.html#a087e410072a0dff0ed441abef5991921" title="buffer_init_enqueue_data" alt="" coords="137,380,303,407"/><area shape="rect" id="node3" href="_m_s_p430_f5529_2_game_example_2main_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="main" alt="" coords="389,5,440,32"/><area shape="rect" id="node4" href="laser__comms_8h.html#aedffc10b3a2c95e1f1e3af96a9db2941" title="LaserComms_Init" alt="" coords="352,56,477,83"/><area shape="rect" id="node6" href="buffer__tests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="389,224,440,251"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gacdb68b530470d939294d0dc2581019a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Buffer_SetCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)&#160;</td>
          <td class="paramname"><em>Callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set Callback function for buffer to be called after items are Queued to the buffer</p>
<p>The callback function will be called after anything is Queued to the buffer. The function will be called with a pointer to the buffer which had a byte queued onto it.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> TxCallback(<a class="code" href="structbuffer__t.html">buffer_t</a> * buf);</div>
<div class="line"><span class="preprocessor">#define TX_BUFFER_LENGTH 512</span></div>
<div class="line"><span class="preprocessor"></span><a class="code" href="structbuffer__t.html">buffer_t</a> <a class="code" href="uart_8c.html#a7915f81b46bf81cec1c8c716d5d6bdf1">tx</a>; <span class="comment">// transmit buffer</span></div>
<div class="line"><span class="keywordtype">char</span> tx_buffer_array[TX_BUFFER_LENGTH]</div>
<div class="line">...</div>
<div class="line">Buffer_Init(&amp;tx, &amp;tx_buffer_array[0], TX_BUFFER_LENGTH);</div>
<div class="line"><a class="code" href="group__buffer.html#gacdb68b530470d939294d0dc2581019a9">Buffer_SetCallback</a>(&amp;tx, TxCallback);</div>
<div class="line">...</div>
<div class="line">void TxCallback(<a class="code" href="structbuffer__t.html">buffer_t</a> * buf) {</div>
<div class="line">        SET_UART_TX_IE();</div>
<div class="line">}</div>
</div><!-- fragment --><p> This example is useful for a uC which has a hardware Tx interrupt flag which is set whenever there is room in the hardware Tx FIFO buffer. When done transmitting the interrupt must be disabled to avoid getting stuck in the ISR. When data needs to be sent the interrupt must be enabled again, thus the need for the callback.</p>
<p>Another usage could be to handle received data on a receive buffer.</p>
<dl class="section warning"><dt>Warning</dt><dd>many applications may use the Enqueue method in a ISR which means the Callback would be called from a ISR. Thus care should be taken to ensure callbacks are both fast and interrupt safe</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the <a class="el" href="structbuffer__t.html">buffer_t</a> data structure whose callback function is to be set </td></tr>
    <tr><td class="paramname">Callback</td><td>Function pointer to a callback function with no return value and a <a class="el" href="structbuffer__t.html">buffer_t</a> pointer input. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__buffer_gacdb68b530470d939294d0dc2581019a9_icgraph.png" border="0" usemap="#group__buffer_gacdb68b530470d939294d0dc2581019a9_icgraph" alt=""/></div>
<map name="group__buffer_gacdb68b530470d939294d0dc2581019a9_icgraph" id="group__buffer_gacdb68b530470d939294d0dc2581019a9_icgraph">
<area shape="rect" id="node2" href="buffer__tests_8c.html#ab14d3d69ec9c086d1fed7f8203dd6374" title="buffer_init_enqueue\l_callback" alt="" coords="206,5,341,46"/><area shape="rect" id="node4" href="buffer__tests_8c.html#a9340673d1901637b95bb12340b3b558c" title="buffer_init_enqueue\l_callback_clear_callback" alt="" coords="190,70,357,111"/><area shape="rect" id="node3" href="buffer__tests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="405,45,456,72"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 8 2019 01:29:43 for embedded-software by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
