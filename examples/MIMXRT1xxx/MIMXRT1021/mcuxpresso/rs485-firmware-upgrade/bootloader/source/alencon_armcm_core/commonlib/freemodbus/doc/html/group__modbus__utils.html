<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
    <title>Utilities</title>
    <link href="dox.css" rel="stylesheet" type="text/css">
  </head>
<body>
<!-- Generated by Doxygen 1.8.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__modbus__utils.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Utilities</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaffd1defb8bceb85f1b65d64fa1c895e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__modbus__utils.html#gaffd1defb8bceb85f1b65d64fa1c895e1">xMBUtilSetBits</a> (UCHAR *ucByteBuf, USHORT usBitOffset, UCHAR ucNBits, UCHAR ucValues)</td></tr>
<tr class="separator:gaffd1defb8bceb85f1b65d64fa1c895e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94b3b43e1d2353e621748c79e2fb4dd5"><td class="memItemLeft" align="right" valign="top">UCHAR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__modbus__utils.html#ga94b3b43e1d2353e621748c79e2fb4dd5">xMBUtilGetBits</a> (UCHAR *ucByteBuf, USHORT usBitOffset, UCHAR ucNBits)</td></tr>
<tr class="separator:ga94b3b43e1d2353e621748c79e2fb4dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This module contains some utility functions which can be used by the application. It includes some special functions for working with bitfields backed by a character array buffer. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga94b3b43e1d2353e621748c79e2fb4dd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UCHAR xMBUtilGetBits </td>
          <td>(</td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>ucByteBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USHORT&#160;</td>
          <td class="paramname"><em>usBitOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>ucNBits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to read bits in a byte buffer. </p>
<p>This function is used to extract up bit values from an array. Up to eight bit values can be extracted in one step.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ucByteBuf</td><td>A buffer where the bit values are stored. </td></tr>
    <tr><td class="paramname">usBitOffset</td><td>The starting address of the bits to set. The first bit has the offset 0. </td></tr>
    <tr><td class="paramname">ucNBits</td><td>Number of bits to modify. The value must always be smaller than 8.</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;UCHAR ucBits[2] = {0, 0};</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;UCHAR ucResult;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;// Extract the bits 3 - 10.</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ucResult = xMBUtilGetBits( ucBits, 3, 8 );</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gaffd1defb8bceb85f1b65d64fa1c895e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xMBUtilSetBits </td>
          <td>(</td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>ucByteBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">USHORT&#160;</td>
          <td class="paramname"><em>usBitOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>ucNBits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>ucValues</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to set bits in a byte buffer. </p>
<p>This function allows the efficient use of an array to implement bitfields. The array used for storing the bits must always be a multiple of two bytes. Up to eight bits can be set or cleared in one operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ucByteBuf</td><td>A buffer where the bit values are stored. Must be a multiple of 2 bytes. No length checking is performed and if usBitOffset / 8 is greater than the size of the buffer memory contents is overwritten. </td></tr>
    <tr><td class="paramname">usBitOffset</td><td>The starting address of the bits to set. The first bit has the offset 0. </td></tr>
    <tr><td class="paramname">ucNBits</td><td>Number of bits to modify. The value must always be smaller than 8. </td></tr>
    <tr><td class="paramname">ucValues</td><td>Thew new values for the bits. The value for the first bit starting at <code>usBitOffset</code> is the LSB of the value <code>ucValues</code></td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ucBits[2] = {0, 0};</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;// Set bit 4 to 1 (read: set 1 bit starting at bit offset 4 to value 1)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;xMBUtilSetBits( ucBits, 4, 1, 1 );</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// Set bit 7 to 1 and bit 8 to 0.</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;xMBUtilSetBits( ucBits, 7, 2, 0x01 );</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;// Set bits 8 - 11 to 0x05 and bits 12 - 15 to 0x0A;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;xMBUtilSetBits( ucBits, 8, 8, 0x5A);</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

<hr width="80%">
<p><center>Automatically generated by Doxygen 1.8.9.1 on Mon Oct 9 2017.</center></p>
</body>
</html>
